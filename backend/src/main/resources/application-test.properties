# In-memory database configuration for testing
spring.datasource.url=jdbc:h2:mem:test;DB_CLOSE_DELAY=-1
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect

# Automatically create and drop tables on application startup and shutdown (for development)
spring.jpa.hibernate.ddl-auto=create-drop

# Enable SQL initialization
spring.sql.init.mode=always
spring.sql.init.schema-locations=classpath:schema.sql
spring.sql.init.data-locations=classpath:data.sql
spring.jpa.defer-datasource-initialization=true

# Enable the H2 console for easy database debugging during testing
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# JWT secret key configuration
spring.config.import=optional:environment
jwt.secret=${JWT_SECRET:defaultSecureFallbackKey123456789012345678901234567890}

# Enable logging to a file for easier debugging
logging.file.name=../Logs/application.log

# Set general logging level to ERROR to reduce verbosity in the console
logging.level.root=ERROR

# Enable detailed logging for Hibernate SQL queries and parameter bindings during debugging
spring.jpa.show-sql=true
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql=TRACE

# Reduce verbosity of Spring Framework logs
logging.level.org.springframework=INFO
logging.level.org.springframework.orm.jpa=INFO
logging.level.org.springframework.boot=INFO

# Log schema and data initialization during testing
logging.level.org.springframework.jdbc.datasource.init.ScriptUtils=DEBUG
logging.level.org.springframework.boot.sql.init=DEBUG

# Application-specific logging for project-related classes
logging.level.com.project=DEBUG

# Configure Hibernate to preserve the case of column names as specified in the entity classes
spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl